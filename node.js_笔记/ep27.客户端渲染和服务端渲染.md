# 客户端渲染和服务端渲染 20/09/15

《编写可维护的Javascript》       

服务端渲染即在服务端使用模板引擎

------

### 客户端渲染 (一般会先出空白页 再有内容)

1. 浏览器接收到服务端响应的字符串

2. 从上到下依次解析

3. 在解析的过程中，如果发现ajax请求

   - 则再次发起新的请求
   - 拿到Ajax结果
   - 模板引擎渲染

   **第一次请求拿到的是页面 第二次请求的是动态数据**

   ------

   ### 服务端渲染

   1. 读取index.html

      ```html
      <html>
          <head>
              <body>
                  <h1>hello{{name}}</h1>
              </body>
          </head>
      </html>
      ```

      ```javascript
      var 渲染结果 = template.render(模板字符串,{解析替换对象})
      response.end(渲染结果)
      ```

      

   2. 模板引擎渲染，在发送给客户端之前，我在服务端已经把index.html渲染处理了

```html
hello Jack <!--浏览器中看到的是已经被渲染过的-->
```

**服务端渲染 响应的是最终的结果 客户端不需要再需要任何处理**

------



## 总结

**客户端渲染不利于SEO搜索引擎优化** 

服务端渲染是可以被爬虫抓取到的 客户端异步渲染很难被抓取到

所有你会发现 真正的网站既不是纯异步也不是纯服务端出来的

例如京东的商品列表采用的是服务端渲染 为了SEO搜索引擎优化 要被百度等搜出来

而它的商品评论列表是为了用户体验，而且也不需要SEO优化 而采用客户端渲染 局部刷新